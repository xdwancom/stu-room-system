"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[266],{9720:function(e,s,t){t.r(s),t.d(s,{default:function(){return u}});var o=function(){var e=this,s=e._self._c;return s("div",{staticClass:"login_face"},[s("div",{staticClass:"login_box"},[s("div",{staticClass:"img_box"}),s("div",{staticClass:"login_msg"},[s("el-input",{attrs:{placeholder:"输入账号",clearable:"",id:"username"},model:{value:e.loginform.username,callback:function(s){e.$set(e.loginform,"username",s)},expression:"loginform.username"}}),s("el-input",{attrs:{placeholder:"输入密码",id:"password","show-password":""},model:{value:e.loginform.password,callback:function(s){e.$set(e.loginform,"password",s)},expression:"loginform.password"}}),s("el-button",{attrs:{id:"btn",type:"primary"},on:{click:function(s){return e.login()}}},[e._v("登录")]),s("el-button",{attrs:{id:"btn",type:"primary"},on:{click:function(s){return e.login()}}},[e._v("注册")])],1)])])},n=[],r=(t(7658),t(9555)),a={data(){return{loginform:{username:"",password:""},token:""}},methods:{handleKeydown(e){"Enter"===e.key&&this.login()},login(){0!=this.loginform.username.length&&0!=this.loginform.password.length?r.Z.post("/login",this.loginform).then((e=>{"账号密码错误"==e.data.msg?this.$message.error("账号密码错误！"):(console.log("Token:",e.data.data),this.token=e.data.data,localStorage.setItem("token",this.token),this.$message({message:"欢迎登录，用户"+this.loginform.username,type:"success"}),this.$router.push("/stu"))})).catch((e=>{console.error(e)})):this.$message({message:"账号密码不能为空!",type:"error"})}},mounted(){window.addEventListener("keydown",this.handleKeydown)},beforeDestroy(){window.removeEventListener("keydown",this.handleKeydown)}},i=a,l=t(1001),d=(0,l.Z)(i,o,n,!1,null,null,null),u=d.exports}}]);
//# sourceMappingURL=266.d69fb5b9.js.map