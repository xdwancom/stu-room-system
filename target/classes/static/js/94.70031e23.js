"use strict";(self["webpackChunkvue2"]=self["webpackChunkvue2"]||[]).push([[94],{8094:function(e,t,s){s.r(t),s.d(t,{default:function(){return m}});var o=function(){var e=this,t=e._self._c;return t("el-container",[t("el-header",{staticStyle:{"font-size":"40px","background-color":"rgb(177, 199, 236)"}},[e._v("学生宿舍管理系统")]),t("el-container",[t("el-aside",{staticStyle:{"background-color":"#545c64",height:"calc(100vh - 60px)"},attrs:{width:"200px"}},[t("el-menu",{staticClass:"el-menu-vertical-demo",attrs:{"default-active":"2","background-color":"#545c64","text-color":"#fff","active-text-color":"#ffd04b"},on:{open:function(t){return e.handleOpen()},close:function(t){return e.handleClose()}}},[t("el-menu-item",{attrs:{index:"1-1"}},[t("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/stu"}},[t("i",{staticClass:"el-icon-user"}),t("span",[e._v("学生个人信息")])])],1),t("el-menu-item",{attrs:{index:"1-2"}},[t("router-link",{staticStyle:{"text-decoration":"none",color:"inherit"},attrs:{to:"/room"}},[t("i",{staticClass:"el-icon-office-building"}),t("span",[e._v("宿舍规格信息")])])],1)],1)],1),t("el-main",[t("router-view")],1)],1)],1)},r=[],a=(s(7658),s(9555)),i={data(){return{stuData:[],tempData:[],chooseData:[],form:{unit:"",roomid:"",id:"",name:"",gender:"男",age:"",department:"计算机",grade:"1",phone:"",roommsg:""},editform:{unit:"",roomid:"",id:"",name:"",gender:"男",age:"",department:"计算机",grade:"1",phone:"",roommsg:""},searchForm:{unit:"",roomid:"",name:"",gender:"",department:"",grade:"",roommsg:""},dialogFormVisible:!1,EditFormVisible:!1,formLabelWidth:"120px"}},methods:{handleOpen(e,t){console.log(e,t)},handleClose(e,t){console.log(e,t)},form_Submit(){""==this.form.name||""==this.form.gender||""==this.form.age||""==this.form.department||""==this.form.grade||""==this.form.phone||null==this.form.name||null==this.form.gender||null==this.form.age||null==this.form.department||null==this.form.grade||null==this.form.phone?this.$message.error("提交失败！个人信息不可留空！"):(""==this.form.unit||"null"==this.form.unit)^(""==this.form.roomid||"null"==this.form.roomid)?this.$message.error("提交失败！楼栋和宿舍不可二填一！"):a.Z.post("/stu",this.form).then((e=>{"countmax"==e.data.msg?this.$message.error("提交失败！该宿舍已满人！请更换宿舍！"):"id_repeat"==e.data.msg?this.$message.error("提交失败！该学号已存在！请更换学号！"):(this.$message({message:"提交成功！请刷新网页查看最新数据",type:"success"}),console.log(e.data))})).catch((e=>{this.$message.error("提交失败！该宿舍不存在！请更换宿舍！"),console.error(e)}))},search_Submit(){a.Z.post("/stu/search",this.searchForm).then((e=>{console.log(e.data.data),this.stuData=e.data.data,this.$message({message:"查询成功！共"+e.data.data.length+"条数据",type:"success"})})).catch((e=>{console.error(e)}))},edit_Submit(){""==this.editform.name||""==this.editform.gender||""==this.editform.age||""==this.editform.department||""==this.editform.grade||""==this.editform.phone||null==this.editform.name||null==this.editform.gender||null==this.editform.age||null==this.editform.department||null==this.editform.grade||null==this.editform.phone?this.$message.error("提交失败！信息不可留空！"):(""==this.editform.unit||"null"==this.editform.unit)^(""==this.editform.roomid||"null"==this.editform.roomid)?this.$message.error("提交失败！楼栋和宿舍不可二填一！"):a.Z.post("/stu/update",this.editform).then((e=>{"count max"==e.data.msg?this.$message.error("提交失败！该宿舍已满人！请更换宿舍！"):(this.$message({message:"提交成功！请刷新网页查看最新数据",type:"success"}),console.log(e.data))})).catch((e=>{this.$message.error("提交失败！该宿舍不存在！请更换宿舍！"),console.error(e)}))},delete_ids(e){this.$confirm("此操作将永久删除指定学生所有信息, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a.Z.delete("/stu/ids/"+e).then((e=>{console.log(e.data),this.$message({type:"success",message:"删除成功!请刷新网页查看最新数据"})})).catch((e=>{console.error(e)}))})).catch((()=>{this.$message({type:"info",message:"已取消删除"})}))},assign(e){this.$confirm("此操作将按照指定年级/院系升序,宿舍楼号升序自动分配宿舍\r\n是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((()=>{a.Z.get("/stu/assign/"+e).then((e=>{console.log(e.data),this.$message({message:"自动分配宿舍成功！请刷新界面查看最新数据",type:"success"})})).catch((e=>{console.error(e)}))})).catch((()=>{this.$message({type:"info",message:"已取消分配"})}))},resetForm(e){this.$refs[e].resetFields()},delete_choose(){for(var e=new Array,t=0;t<this.chooseData.length;t++)e[t]=this.chooseData[t].id;this.delete_ids(e)},cancel_choose(e){e?e.forEach((e=>{this.$refs.multiple_Table.toggleRowSelection(e)})):this.$refs.multiple_Table.clearSelection()},handleSelectionChange(e){this.chooseData=e},quit(){localStorage.clear(),this.$router.push("/login"),this.$message.success("已退出登录")}},mounted(){a.Z.post("/stu/search",this.searchForm).then((e=>{console.log(e.data.msg),"NOT_LOGIN"==e.data.msg?(this.$router.push("/login"),this.$message.error("登录信息过期，请重新登录")):(console.log(e.data.data),this.stuData=e.data.data)})).catch((e=>{console.error(e)}))}},n=i,l=s(1001),h=(0,l.Z)(n,o,r,!1,null,"7b0a61d6",null),m=h.exports}}]);
//# sourceMappingURL=94.70031e23.js.map